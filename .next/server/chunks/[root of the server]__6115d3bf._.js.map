{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file://C%3A/FPT%20Polytechnic/frame2/frame2/src/app/api/users/%5Bid%5D/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { readFile, writeFile } from \"fs/promises\";\r\nimport path from \"path\";\r\n\r\nconst filePath = path.join(process.cwd(), \"src\", \"data\", \"users.json\");\r\n\r\nexport async function PUT(req: Request, context: { params: { id: string } }) {\r\n    const { id } = await context.params; // üî• CH·ªñ FIX L·ªñI N√à\r\n    const numericId = Number(id);\r\n  \r\n    const updatedUser = await req.json();\r\n  \r\n    try {\r\n      const fileData = await readFile(filePath, \"utf-8\");\r\n      const users = JSON.parse(fileData);\r\n  \r\n      const index = users.findIndex((u: any) => u.id === numericId);\r\n      if (index === -1) {\r\n        return new Response(JSON.stringify({ error: \"Kh√¥ng t√¨m th·∫•y ng∆∞·ªùi d√πng.\" }), { status: 404 });\r\n      }\r\n  \r\n      users[index] = { ...users[index], ...updatedUser };\r\n      await writeFile(filePath, JSON.stringify(users, null, 2));\r\n  \r\n      return new Response(JSON.stringify(users[index]), { status: 200 });\r\n    } catch (error) {\r\n      return new Response(JSON.stringify({ error: \"L·ªói server.\" }), { status: 500 });\r\n    }\r\n  }\r\n\r\nexport async function DELETE(_: Request, { params }: { params: { id: string } }) {\r\n    const { id } = await params; // ‚úÖ\r\n    const numericId = Number(id);\r\n    \r\n  try {\r\n    const fileData = await readFile(filePath, \"utf-8\");\r\n    let users = JSON.parse(fileData);\r\n    users = users.filter((u: any) => u.id !== id);\r\n    await writeFile(filePath, JSON.stringify(users, null, 2), \"utf-8\");\r\n    return NextResponse.json({ success: true });\r\n  } catch (err) {\r\n    return NextResponse.json({ error: \"L·ªói khi x√≥a.\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,WAAW,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,QAAQ;AAElD,eAAe,IAAI,GAAY,EAAE,OAAmC;IACvE,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,QAAQ,MAAM,EAAE,oBAAoB;IACzD,MAAM,YAAY,OAAO;IAEzB,MAAM,cAAc,MAAM,IAAI,IAAI;IAElC,IAAI;QACF,MAAM,WAAW,MAAM,CAAA,GAAA,qHAAA,CAAA,WAAQ,AAAD,EAAE,UAAU;QAC1C,MAAM,QAAQ,KAAK,KAAK,CAAC;QAEzB,MAAM,QAAQ,MAAM,SAAS,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;QACnD,IAAI,UAAU,CAAC,GAAG;YAChB,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,OAAO;YAA6B,IAAI;gBAAE,QAAQ;YAAI;QAC7F;QAEA,KAAK,CAAC,MAAM,GAAG;YAAE,GAAG,KAAK,CAAC,MAAM;YAAE,GAAG,WAAW;QAAC;QACjD,MAAM,CAAA,GAAA,qHAAA,CAAA,YAAS,AAAD,EAAE,UAAU,KAAK,SAAS,CAAC,OAAO,MAAM;QAEtD,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG;YAAE,QAAQ;QAAI;IAClE,EAAE,OAAO,OAAO;QACd,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,OAAO;QAAc,IAAI;YAAE,QAAQ;QAAI;IAC9E;AACF;AAEK,eAAe,OAAO,CAAU,EAAE,EAAE,MAAM,EAA8B;IAC3E,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,QAAQ,IAAI;IACjC,MAAM,YAAY,OAAO;IAE3B,IAAI;QACF,MAAM,WAAW,MAAM,CAAA,GAAA,qHAAA,CAAA,WAAQ,AAAD,EAAE,UAAU;QAC1C,IAAI,QAAQ,KAAK,KAAK,CAAC;QACvB,QAAQ,MAAM,MAAM,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;QAC1C,MAAM,CAAA,GAAA,qHAAA,CAAA,YAAS,AAAD,EAAE,UAAU,KAAK,SAAS,CAAC,OAAO,MAAM,IAAI;QAC1D,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,KAAK;QACZ,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACpE;AACF","debugId":null}}]
}