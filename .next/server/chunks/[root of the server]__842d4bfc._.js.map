{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file://C%3A/FPT%20Polytechnic/frame2/frame2/src/app/api/login/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { readFile } from \"fs/promises\";\r\nimport path from \"path\";\r\n\r\nexport async function POST(req: Request) {\r\n  const { username, password } = await req.json();\r\n  const filePath = path.join(process.cwd(), \"src\", \"data\", \"users.json\");\r\n\r\n  try {\r\n    const fileData = await readFile(filePath, \"utf-8\");\r\n    const users = JSON.parse(fileData);\r\n\r\n    const user = users.find(\r\n      (u: any) => u.username === username && u.password === password\r\n    );\r\n\r\n    if (user) {\r\n      const res = new Response(\r\n        JSON.stringify({ success: true, role: user.role }),\r\n        {\r\n          status: 200,\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Set-Cookie\": `username=${user.username}; Path=/; SameSite=Lax`,\r\n          },\r\n        }\r\n      );\r\n      return res;\r\n    } else {\r\n      return NextResponse.json({ success: false }, { status: 401 });\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error reading user file:\", err);\r\n    return NextResponse.json({ success: false }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;IAC7C,MAAM,WAAW,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,QAAQ;IAEzD,IAAI;QACF,MAAM,WAAW,MAAM,CAAA,GAAA,qHAAA,CAAA,WAAQ,AAAD,EAAE,UAAU;QAC1C,MAAM,QAAQ,KAAK,KAAK,CAAC;QAEzB,MAAM,OAAO,MAAM,IAAI,CACrB,CAAC,IAAW,EAAE,QAAQ,KAAK,YAAY,EAAE,QAAQ,KAAK;QAGxD,IAAI,MAAM;YACR,MAAM,MAAM,IAAI,SACd,KAAK,SAAS,CAAC;gBAAE,SAAS;gBAAM,MAAM,KAAK,IAAI;YAAC,IAChD;gBACE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,cAAc,CAAC,SAAS,EAAE,KAAK,QAAQ,CAAC,sBAAsB,CAAC;gBACjE;YACF;YAEF,OAAO;QACT,OAAO;YACL,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAM,GAAG;gBAAE,QAAQ;YAAI;QAC7D;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAM,GAAG;YAAE,QAAQ;QAAI;IAC7D;AACF","debugId":null}}]
}