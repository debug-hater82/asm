{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/cart/cart.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"cartItem\": \"cart-module__-RJi4G__cartItem\",\n  \"checkoutBtn\": \"cart-module__-RJi4G__checkoutBtn\",\n  \"container\": \"cart-module__-RJi4G__container\",\n  \"itemActions\": \"cart-module__-RJi4G__itemActions\",\n  \"itemImage\": \"cart-module__-RJi4G__itemImage\",\n  \"itemInfo\": \"cart-module__-RJi4G__itemInfo\",\n  \"quantityControl\": \"cart-module__-RJi4G__quantityControl\",\n  \"removeBtn\": \"cart-module__-RJi4G__removeBtn\",\n  \"total\": \"cart-module__-RJi4G__total\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file://D%3A/ReactJs/asm/src/app/component/CartList.tsx"],"sourcesContent":["'use client';\r\nimport styles from '../cart/cart.module.css';\r\n\r\ninterface CartItem {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    image: string;\r\n    quantity: number;\r\n}\r\n\r\ninterface CartListProps {\r\n    items: CartItem[];\r\n    onIncrease: (id: string) => void;\r\n    onDecrease: (id: string) => void;\r\n    onRemove: (id: string) => void;\r\n}\r\n\r\nexport default function CartList({ items, onIncrease, onDecrease, onRemove }: CartListProps) {\r\n    if (items.length === 0) {\r\n        return <p>Giỏ hàng trống</p>;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.cartList}>\r\n            {items.map((item) => (\r\n                <div key={item.id} className={styles.cartItem}>\r\n                    <img\r\n                        src={item.image}\r\n                        alt={item.name}\r\n                        className={styles.itemImage}\r\n                        onError={(e) => {\r\n                            const target = e.target as HTMLImageElement;\r\n                            target.src = '/fallback.jpg';\r\n                            target.alt = 'Hình ảnh không khả dụng';\r\n                        }}\r\n                    />\r\n\r\n                    <div className={styles.itemInfo}>\r\n                        <h3>{item.name}</h3>\r\n                        <p>Giá: <strong>{item.price.toLocaleString('vi-VN')} VNĐ</strong></p>\r\n                        <p>Số lượng: <strong>{item.quantity}</strong></p>\r\n                        <p>Tổng: <strong>{(item.price * item.quantity).toLocaleString('vi-VN')} VNĐ</strong></p>\r\n                    </div>\r\n\r\n                    <div className={styles.itemActions}>\r\n                        <div className={styles.quantityControl}>\r\n                            <button onClick={() => onDecrease(item.id)}>-</button>\r\n                            <span>{item.quantity}</span>\r\n                            <button onClick={() => onIncrease(item.id)}>+</button>\r\n                        </div>\r\n                        <button className={styles.removeBtn} onClick={() => onRemove(item.id)}>X</button>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAkBe,SAAS,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,QAAQ,EAAiB;IACvF,IAAI,MAAM,MAAM,KAAK,GAAG;QACpB,qBAAO,6LAAC;sBAAE;;;;;;IACd;IAEA,qBACI,6LAAC;QAAI,WAAW,yIAAA,CAAA,UAAM,CAAC,QAAQ;kBAC1B,MAAM,GAAG,CAAC,CAAC,qBACR,6LAAC;gBAAkB,WAAW,yIAAA,CAAA,UAAM,CAAC,QAAQ;;kCACzC,6LAAC;wBACG,KAAK,KAAK,KAAK;wBACf,KAAK,KAAK,IAAI;wBACd,WAAW,yIAAA,CAAA,UAAM,CAAC,SAAS;wBAC3B,SAAS,CAAC;4BACN,MAAM,SAAS,EAAE,MAAM;4BACvB,OAAO,GAAG,GAAG;4BACb,OAAO,GAAG,GAAG;wBACjB;;;;;;kCAGJ,6LAAC;wBAAI,WAAW,yIAAA,CAAA,UAAM,CAAC,QAAQ;;0CAC3B,6LAAC;0CAAI,KAAK,IAAI;;;;;;0CACd,6LAAC;;oCAAE;kDAAK,6LAAC;;4CAAQ,KAAK,KAAK,CAAC,cAAc,CAAC;4CAAS;;;;;;;;;;;;;0CACpD,6LAAC;;oCAAE;kDAAU,6LAAC;kDAAQ,KAAK,QAAQ;;;;;;;;;;;;0CACnC,6LAAC;;oCAAE;kDAAM,6LAAC;;4CAAQ,CAAC,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE,cAAc,CAAC;4CAAS;;;;;;;;;;;;;;;;;;;kCAG3E,6LAAC;wBAAI,WAAW,yIAAA,CAAA,UAAM,CAAC,WAAW;;0CAC9B,6LAAC;gCAAI,WAAW,yIAAA,CAAA,UAAM,CAAC,eAAe;;kDAClC,6LAAC;wCAAO,SAAS,IAAM,WAAW,KAAK,EAAE;kDAAG;;;;;;kDAC5C,6LAAC;kDAAM,KAAK,QAAQ;;;;;;kDACpB,6LAAC;wCAAO,SAAS,IAAM,WAAW,KAAK,EAAE;kDAAG;;;;;;;;;;;;0CAEhD,6LAAC;gCAAO,WAAW,yIAAA,CAAA,UAAM,CAAC,SAAS;gCAAE,SAAS,IAAM,SAAS,KAAK,EAAE;0CAAG;;;;;;;;;;;;;eAzBrE,KAAK,EAAE;;;;;;;;;;AA+BjC;KAvCwB","debugId":null}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file://D%3A/ReactJs/asm/src/app/cart/page.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useReducer } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport CartList from '../component/CartList';\r\nimport styles from './cart.module.css';\r\n\r\ninterface CartItem {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    quantity: number;\r\n    image: string;\r\n}\r\n\r\ntype Action =\r\n    | { type: 'LOAD_CART'; payload: CartItem[] }\r\n    | { type: 'INCREASE'; id: string }\r\n    | { type: 'DECREASE'; id: string }\r\n    | { type: 'REMOVE'; id: string }\r\n    | { type: 'CHECKOUT' };\r\n\r\ninterface State {\r\n    items: CartItem[];\r\n    total: number;\r\n}\r\n\r\nconst initialState: State = {\r\n    items: [],\r\n    total: 0,\r\n};\r\n\r\nfunction calculateTotal(items: CartItem[]) {\r\n    return items.reduce((acc, item) => acc + item.price * item.quantity, 0);\r\n}\r\n\r\nfunction saveToStorage(items: CartItem[]) {\r\n    localStorage.setItem('cart', JSON.stringify(items));\r\n}\r\n\r\nfunction cartReducer(state: State, action: Action): State {\r\n    let updatedItems: CartItem[] = [];\r\n\r\n    switch (action.type) {\r\n        case 'LOAD_CART':\r\n            return {\r\n                items: action.payload,\r\n                total: calculateTotal(action.payload),\r\n            };\r\n\r\n        case 'INCREASE':\r\n            updatedItems = state.items.map(item =>\r\n                item.id === action.id ? { ...item, quantity: item.quantity + 1 } : item\r\n            );\r\n            saveToStorage(updatedItems);\r\n            return {\r\n                items: updatedItems,\r\n                total: calculateTotal(updatedItems),\r\n            };\r\n\r\n        case 'DECREASE':\r\n            updatedItems = state.items.map(item =>\r\n                item.id === action.id && item.quantity > 1\r\n                    ? { ...item, quantity: item.quantity - 1 }\r\n                    : item\r\n            );\r\n            saveToStorage(updatedItems);\r\n            return {\r\n                items: updatedItems,\r\n                total: calculateTotal(updatedItems),\r\n            };\r\n\r\n        case 'REMOVE':\r\n            updatedItems = state.items.filter(item => item.id !== action.id);\r\n            saveToStorage(updatedItems);\r\n            return {\r\n                items: updatedItems,\r\n                total: calculateTotal(updatedItems),\r\n            };\r\n\r\n        case 'CHECKOUT':\r\n            localStorage.removeItem('cart');\r\n            return { items: [], total: 0 };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default function CartPage() {\r\n    const [state, dispatch] = useReducer(cartReducer, initialState);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const storedItems: CartItem[] = JSON.parse(localStorage.getItem('cart') || '[]');\r\n        dispatch({ type: 'LOAD_CART', payload: storedItems });\r\n\r\n        const handleStorage = () => {\r\n            const updated: CartItem[] = JSON.parse(localStorage.getItem('cart') || '[]');\r\n            dispatch({ type: 'LOAD_CART', payload: updated });\r\n        };\r\n\r\n        window.addEventListener('storage', handleStorage);\r\n        return () => window.removeEventListener('storage', handleStorage);\r\n    }, []);\r\n\r\n    const handleIncrease = (id: string) => dispatch({ type: 'INCREASE', id });\r\n    const handleDecrease = (id: string) => dispatch({ type: 'DECREASE', id });\r\n    const handleRemove = (id: string) => dispatch({ type: 'REMOVE', id });\r\n\r\n    const handleCheckout = () => {\r\n        router.push('/checkout');\r\n    };\r\n\r\n    return (\r\n        <div className={styles.cartPage}>\r\n            <h1>Giỏ hàng của bạn</h1>\r\n            {state.items.length === 0 ? (\r\n                <p>Giỏ hàng đang trống.</p>\r\n            ) : (\r\n                <>\r\n                    <CartList\r\n                        items={state.items}\r\n                        onIncrease={handleIncrease}\r\n                        onDecrease={handleDecrease}\r\n                        onRemove={handleRemove}\r\n                    />\r\n                    <div className={styles.total}>\r\n                        <h3>Tổng tiền: {state.total.toLocaleString('vi-VN')} VNĐ</h3>\r\n                        <button className={styles.checkoutBtn} onClick={handleCheckout}>\r\n                            Thanh toán\r\n                        </button>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":["file://D%3A/ReactJs/asm/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}