{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/login/login.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"login-module__WEZH7G__button\",\n  \"forgotPassword\": \"login-module__WEZH7G__forgotPassword\",\n  \"form\": \"login-module__WEZH7G__form\",\n  \"formSection\": \"login-module__WEZH7G__formSection\",\n  \"input\": \"login-module__WEZH7G__input\",\n  \"inputGroup\": \"login-module__WEZH7G__inputGroup\",\n  \"links\": \"login-module__WEZH7G__links\",\n  \"loginContainer\": \"login-module__WEZH7G__loginContainer\",\n  \"register\": \"login-module__WEZH7G__register\",\n  \"title\": \"login-module__WEZH7G__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file://C%3A/FPT%20Polytechnic/frame2/frame2/src/context/AuthContext.tsx"],"sourcesContent":["// src/context/AuthContext.tsx\r\n\"use client\";\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\r\n\r\ntype User = {\r\n  username: string;\r\n  role: string;\r\n};\r\n\r\ntype AuthContextType = {\r\n  user: User | null;\r\n  login: (userData: User) => void;\r\n  logout: () => void;\r\n};\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n\r\n  // Load user from localStorage on mount\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    if (storedUser) {\r\n      setUser(JSON.parse(storedUser));\r\n    }\r\n  }, []);\r\n\r\n  const login = (userData: User) => {\r\n    setUser(userData);\r\n    localStorage.setItem(\"user\", JSON.stringify(userData));\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem(\"user\");\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n  return context;\r\n};\r\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;;AAE9B;;;AADA;;AAcA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAE9C,uCAAuC;IACvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,YAAY;gBACd,QAAQ,KAAK,KAAK,CAAC;YACrB;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACb,QAAQ;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;IAC9C;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP;GA1Ba;KAAA;AA4BN,MAAM,UAAU;;IACrB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file://C%3A/FPT%20Polytechnic/frame2/frame2/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport styles from \"./login.module.css\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const router = useRouter();\r\n  const { login } = useAuth();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch(\"/api/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (data.success) {\r\n        login({ username, role: data.role }); // cập nhật context\r\n        alert(\"Đăng nhập thành công!\");\r\n        router.push(data.role === \"admin\" ? \"/admin\" : \"/\");\r\n      } else {\r\n        alert(\"Sai tài khoản hoặc mật khẩu!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Lỗi khi đăng nhập:\", error);\r\n      alert(\"Lỗi hệ thống!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.loginContainer}>\r\n      <div className={styles.formSection}>\r\n        <h1 className={styles.title}>Đăng Nhập</h1>\r\n        <form className={styles.form} onSubmit={handleSubmit}>\r\n          <div className={styles.inputGroup}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Username của bạn\"\r\n              className={styles.input}\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className={styles.inputGroup}>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Mật khẩu\"\r\n              className={styles.input}\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className={styles.button}>\r\n            Đăng Nhập\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,cAAc;gBACpC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAU;gBAAS;YAC5C;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,KAAK,OAAO,EAAE;gBAChB,MAAM;oBAAE;oBAAU,MAAM,KAAK,IAAI;gBAAC,IAAI,mBAAmB;gBACzD,MAAM;gBACN,OAAO,IAAI,CAAC,KAAK,IAAI,KAAK,UAAU,WAAW;YACjD,OAAO;gBACL,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;YACpC,MAAM;QACR;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,2IAAA,CAAA,UAAM,CAAC,cAAc;kBACnC,cAAA,6LAAC;YAAI,WAAW,2IAAA,CAAA,UAAM,CAAC,WAAW;;8BAChC,6LAAC;oBAAG,WAAW,2IAAA,CAAA,UAAM,CAAC,KAAK;8BAAE;;;;;;8BAC7B,6LAAC;oBAAK,WAAW,2IAAA,CAAA,UAAM,CAAC,IAAI;oBAAE,UAAU;;sCACtC,6LAAC;4BAAI,WAAW,2IAAA,CAAA,UAAM,CAAC,UAAU;sCAC/B,cAAA,6LAAC;gCACC,MAAK;gCACL,MAAK;gCACL,aAAY;gCACZ,WAAW,2IAAA,CAAA,UAAM,CAAC,KAAK;gCACvB,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,QAAQ;;;;;;;;;;;sCAGZ,6LAAC;4BAAI,WAAW,2IAAA,CAAA,UAAM,CAAC,UAAU;sCAC/B,cAAA,6LAAC;gCACC,MAAK;gCACL,MAAK;gCACL,aAAY;gCACZ,WAAW,2IAAA,CAAA,UAAM,CAAC,KAAK;gCACvB,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,QAAQ;;;;;;;;;;;sCAGZ,6LAAC;4BAAO,MAAK;4BAAS,WAAW,2IAAA,CAAA,UAAM,CAAC,MAAM;sCAAE;;;;;;;;;;;;;;;;;;;;;;;AAO1D;GAlEwB;;QAGP,qIAAA,CAAA,YAAS;QACN,iIAAA,CAAA,UAAO;;;KAJH","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file://C%3A/FPT%20Polytechnic/frame2/frame2/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}