{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/admin/products/adProducts.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"addProductForm\": \"adProducts-module__bdaI9W__addProductForm\",\n  \"adminContainer\": \"adProducts-module__bdaI9W__adminContainer\",\n  \"deleteBtn\": \"adProducts-module__bdaI9W__deleteBtn\",\n  \"editBtn\": \"adProducts-module__bdaI9W__editBtn\",\n  \"formGroup\": \"adProducts-module__bdaI9W__formGroup\",\n  \"productTable\": \"adProducts-module__bdaI9W__productTable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file://C%3A/FPT%20Polytechnic/frame2/frame2/src/app/admin/products/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Product } from \"../../component/interface\";\r\nimport styles from \"./adProducts.module.css\";\r\n\r\nexport default function AdminProducts() {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [form, setForm] = useState<Product>({ name: \"\", price: 0, image: \"\" });\r\n  const [editId, setEditId] = useState<number | string | null>(null);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:3450/product\");\r\n      const data = await res.json();\r\n      setProducts(data);\r\n    } catch (err) {\r\n      console.error(\"Lỗi tải danh sách sản phẩm\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setForm({ ...form, [name]: name === \"price\" ? +value : value });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const method = editId ? \"PUT\" : \"POST\";\r\n    const url = editId\r\n      ? `http://localhost:3450/product/${editId}`\r\n      : \"http://localhost:3450/product\";\r\n\r\n    await fetch(url, {\r\n      method,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(form),\r\n    });\r\n\r\n    setForm({ name: \"\", price: 0, image: \"\" });\r\n    setEditId(null);\r\n    fetchProducts();\r\n  };\r\n\r\n  const handleEdit = (product: Product) => {\r\n    setForm(product);\r\n    setEditId(product.id ?? null);\r\n  };\r\n\r\n  const handleDelete = async (id: number | string | undefined) => {\r\n    if (!id) return;\r\n    await fetch(`http://localhost:3450/product/${id}`, { method: \"DELETE\" });\r\n    fetchProducts();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.adminContainer}>\r\n      <h1>Quản lý sản phẩm</h1>\r\n\r\n      <div className={styles.formGroup}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Tên sản phẩm\"\r\n          value={form.name}\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          placeholder=\"Giá\"\r\n          value={form.price?.toString() ?? \"\"} // CHUYỂN SANG STRING\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"image\"\r\n          placeholder=\"Link ảnh\"\r\n          value={form.image}\r\n          onChange={handleChange}\r\n        />\r\n        <button onClick={handleSubmit}>\r\n          {editId ? \"Cập nhật\" : \"Thêm\"}\r\n        </button>\r\n      </div>\r\n\r\n      <table className={styles.productTable}>\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Tên sản phẩm</th>\r\n            <th>Giá</th>\r\n            <th>Hành động</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map((product) => (\r\n            <tr key={product.id?.toString()}>\r\n              <td>{product.id}</td>\r\n              <td>{product.name}</td>\r\n              <td>{product.price} VND</td>\r\n              <td>\r\n                <button onClick={() => handleEdit(product)} className={styles.editBtn}>\r\n                  Sửa\r\n                </button>\r\n                <button onClick={() => handleDelete(product.id)} className={styles.deleteBtn}>\r\n                  Xóa\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AAEA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;QAAE,MAAM;QAAI,OAAO;QAAG,OAAO;IAAG;IAC1E,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA0B;IAE7D,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,YAAY;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR;QACF;kCAAG,EAAE;IAEL,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,QAAQ;YAAE,GAAG,IAAI;YAAE,CAAC,KAAK,EAAE,SAAS,UAAU,CAAC,QAAQ;QAAM;IAC/D;IAEA,MAAM,eAAe;QACnB,MAAM,SAAS,SAAS,QAAQ;QAChC,MAAM,MAAM,SACR,CAAC,8BAA8B,EAAE,QAAQ,GACzC;QAEJ,MAAM,MAAM,KAAK;YACf;YACA,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,QAAQ;YAAE,MAAM;YAAI,OAAO;YAAG,OAAO;QAAG;QACxC,UAAU;QACV;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,QAAQ;QACR,UAAU,QAAQ,EAAE,IAAI;IAC1B;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,IAAI;QACT,MAAM,MAAM,CAAC,8BAA8B,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS;QACtE;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,4JAAA,CAAA,UAAM,CAAC,cAAc;;0BACnC,6LAAC;0BAAG;;;;;;0BAEJ,6LAAC;gBAAI,WAAW,4JAAA,CAAA,UAAM,CAAC,SAAS;;kCAC9B,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,IAAI;wBAChB,UAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,KAAK,EAAE,cAAc;wBACjC,UAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,KAAK;wBACjB,UAAU;;;;;;kCAEZ,6LAAC;wBAAO,SAAS;kCACd,SAAS,aAAa;;;;;;;;;;;;0BAI3B,6LAAC;gBAAM,WAAW,4JAAA,CAAA,UAAM,CAAC,YAAY;;kCACnC,6LAAC;kCACC,cAAA,6LAAC;;8CACC,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;8CAAG;;;;;;;;;;;;;;;;;kCAGR,6LAAC;kCACE,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;;kDACC,6LAAC;kDAAI,QAAQ,EAAE;;;;;;kDACf,6LAAC;kDAAI,QAAQ,IAAI;;;;;;kDACjB,6LAAC;;4CAAI,QAAQ,KAAK;4CAAC;;;;;;;kDACnB,6LAAC;;0DACC,6LAAC;gDAAO,SAAS,IAAM,WAAW;gDAAU,WAAW,4JAAA,CAAA,UAAM,CAAC,OAAO;0DAAE;;;;;;0DAGvE,6LAAC;gDAAO,SAAS,IAAM,aAAa,QAAQ,EAAE;gDAAG,WAAW,4JAAA,CAAA,UAAM,CAAC,SAAS;0DAAE;;;;;;;;;;;;;+BARzE,QAAQ,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;AAkBjC;GAhHwB;KAAA","debugId":null}}]
}